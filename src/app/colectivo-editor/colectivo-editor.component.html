<div class="container">
    <h1>Crear nuevo colectivo</h1>
    <form (ngSubmit)="onSubmit()" #colectivoForm="ngForm">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" class="form-control" name="nombre" 
          [(ngModel)]="colectivoModel.nombre" required #nombre="ngModel">
        <div [hidden]="nombre.valid || nombre.pristine"
             class="alert alert-danger">
             El nombre es obligatorio
        </div>
      </div>
      <div class="form-group">
        <label for="descripcion">Descripcion</label>
        <input type="text" class="form-control" name="descripcion"
          [(ngModel)]="colectivoModel.descripcion" required #descripcion="ngModel">
        <div [hidden]="descripcion.valid || descripcion.pristine"
             class="alert alert-danger">
             La descripcion es obligatoria
        </div>
      </div>
      <div class="form-group">
        <label for="color">Color de la ruta</label>
        <input type="color" class="form-control" name="color" [ngModel]="colectivoModel.color" (ngModelChange)="colorChange($event)">
      </div>
      <div class="form-group">
        <label for="ruta">Ruta</label>
        <ng2-map center= "Concepcion del uruguay, Argentina" name="ruta" (click)="mapClicked($event)">
          
          <map-polygon
            [editable]="true"
            [clickable]="false"
            [paths]="colectivoModel.ruta"
            [strokeColor]="colectivoModel.color"
            [strokeOpacity]="0.8"
            [strokeWeight]="5"
            [fillColor]="colectivoModel.color"
            [fillOpacity]="0"
            (initialized$)="onPolygonInit($event)"
          ></map-polygon>

          <marker *ngFor="let parada of colectivoModel.paradas" 
            [position]="parada"
            [draggable]="true"
            (initialized$)="onMarkerInit($event)"
            >
          </marker>

        </ng2-map>
      </div>
      <button type="submit" class="btn btn-success" [disabled]="!colectivoForm.form.valid">Submit</button>
    </form>
</div>