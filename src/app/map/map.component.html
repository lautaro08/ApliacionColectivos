<div class="container-fluid p-0"> 
  <div class="formulario-posicion">
    <div class="linea-formulario">
      <span class="label"> Origen </span>
      <input places-auto-complete #autocompleteOrigen
      (onselect)="initialized($event)"
      placeholder="Introduce tu ubicacion"
      onreadystatechange="acInitialized($event)" 
      (place_changed)="placeChanged()" >
      <button md-button (click)="myLocation(true)"><i class="fa fa-map-marker" aria-hidden="true"></i></button>
      <button md-button (click)="elegirUbicacionDelMapa(true)"><i class="fa fa-map-marker" aria-hidden="true"></i></button>
    </div>
    <div class="linea-formulario">
      <span class="label"> Destino </span>
      <input>
      <button md-button (click)="myLocation(false)"><i class="fa fa-map-marker" aria-hidden="true"></i></button>
      <button md-button (click)="elegirUbicacionDelMapa(false)"><i class="fa fa-map-marker" aria-hidden="true"></i></button>
    </div>  
  </div>

  <ng2-map center="Concepcion del uruguay, Argentina" 
    (mapClick)="paradasMasCercanas()"
    (mapReady$)="onMapReady($event)"
    class="mapa">
    
    <map-polygon *ngIf="recorridoCercano != null"
            (initialized$)="onPolygonInit($event)"          
            [paths]="recorridoCercano.ruta"
            [strokeColor]="recorridoCercano.color"
            [strokeOpacity]="0.8"
            [strokeWeight]="5"
            [fillColor]="recorridoCercano.color"
            [fillOpacity]="0"
            [clickable]="false"
    >
    </map-polygon>
    <marker 
    *ngIf="origen != null"
      [position]="ubicacion"
      [draggable]="true"
      (dragend)="actualizarUbicaciones($event,true)"
    >
    </marker>

    <marker 
    *ngIf="destino != null"
      [position] = "destino"
      [draggable]="true"
      (dragend)="actualizarUbicaciones($event,false)"
    >
    </marker>

    <marker *ngFor="let parada of paradas"
      [position]="parada.pos"
      (initialized$)="markerInitialized($event)"
      >
    </marker>
  </ng2-map>
  
</div>
