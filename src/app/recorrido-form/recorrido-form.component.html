<div class="container">
    <button md-button (click)="goBack()"><md-icon>arrow_back</md-icon></button>
    <span>{{titulo}} recorrido</span>
    <form (ngSubmit)="onSubmit()" #recorridoForm="ngForm">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" class="form-control" name="nombre" 
          [(ngModel)]="recorridoModel.nombre" required #nombre="ngModel">
        <div [hidden]="nombre.valid || nombre.pristine"
             class="alert alert-danger">
             El nombre es obligatorio
        </div>
      </div>
      <div class="form-group">
        <label for="descripcion">Descripcion</label>
        <input type="text" class="form-control" name="descripcion"
          [(ngModel)]="recorridoModel.descripcion" required #descripcion="ngModel">
        <div [hidden]="descripcion.valid || descripcion.pristine"
             class="alert alert-danger">
             La descripcion es obligatoria
        </div>
      </div>
      <div class="form-group">
        <label for="color">Color de la ruta</label>
        <input type="color" class="form-control" name="color" [ngModel]="recorridoModel.color" (ngModelChange)="colorChange($event)">
      </div>
      <div class="form-group">
        <label for="ruta">Ruta</label>
        <ng2-map center= "Concepcion del uruguay, Argentina" name="ruta" (click)="mapClicked($event)">
          
          <map-polygon
            [editable]="true"
            [clickable]="false"
            [paths]="recorridoModel.ruta"
            [strokeColor]="recorridoModel.color"
            [strokeOpacity]="0.8"
            [strokeWeight]="5"
            [fillColor]="recorridoModel.color"
            [fillOpacity]="0"
            (initialized$)="onPolygonInit($event)"
          ></map-polygon>

        </ng2-map>
      </div>
      <button type="submit" class="btn btn-success" [disabled]="!recorridoForm.form.valid">Submit</button>
    </form>
</div>